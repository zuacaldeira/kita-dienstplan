# ============================================================================
# KITA CASA AZUL - Spring Boot Application Configuration
# ============================================================================

# Application Name
spring.application.name=kita-dienstplan-api

# Server Configuration
server.port=8080

# ============================================================================
# MySQL Database Configuration
# ============================================================================
spring.datasource.url=jdbc:mysql://localhost:3306/kita_casa_azul?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.username=kita_admin
spring.datasource.password=Unicidade17!/
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ============================================================================
# JPA / Hibernate Configuration
# ============================================================================
# Hibernate DDL auto (create, create-drop, validate, update, none)
# Use 'none' in production, 'validate' to check schema matches entities
spring.jpa.hibernate.ddl-auto=validate

# SQL Dialect
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect

# Show SQL in console (disable in production)
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Naming strategy (use snake_case for database columns)
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl

# ============================================================================
# Flyway Database Migration Configuration
# ============================================================================
# Enable Flyway
spring.flyway.enabled=true

# Location of migration scripts
spring.flyway.locations=classpath:db/migration

# Baseline existing database (for existing databases without Flyway)
spring.flyway.baseline-on-migrate=true
spring.flyway.baseline-version=0

# Validate migrations on startup
spring.flyway.validate-on-migrate=true

# Table to store migration history
spring.flyway.table=flyway_schema_history

# ============================================================================
# Logging Configuration
# ============================================================================
logging.level.root=INFO
logging.level.com.kita.dienstplan=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ============================================================================
# Jackson Configuration (JSON)
# ============================================================================
# Date format
spring.jackson.date-format=yyyy-MM-dd
spring.jackson.time-zone=Europe/Berlin

# Pretty print JSON
spring.jackson.serialization.indent-output=true

# ============================================================================
# JWT Configuration
# ============================================================================
# IMPORTANT: Change this secret in production! Minimum 256 bits
jwt.secret=kita-casa-azul-secret-key-please-change-this-in-production-use-minimum-256-bits-for-security
jwt.expiration=86400000
# Token expiration: 24 hours (in milliseconds)

# ============================================================================
# CORS Configuration (allow all origins for development)
# ============================================================================
# For production, configure specific origins in WebConfig

# ============================================================================
# Error Handling
# ============================================================================
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=on_param
server.error.include-exception=false
